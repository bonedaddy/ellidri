image: alpine/3.11
packages:
    - cargo
    - openssl
    - openssl-dev
sources:
    - https://git.sr.ht/~taiite/ellidri
tasks:
    - build: |
        cd ellidri
        cargo build --locked --no-default-features
    - test: |
        cd ellidri
        RUST_BACKTRACE=1 cargo test --locked --no-fail-fast --no-default-features
